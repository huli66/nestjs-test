<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1209.733380830288 748.0234375" width="1209.733380830288" height="748.0234375">
  <!-- svg-source:excalidraw -->
  
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
      @font-face {
        font-family: "Assistant";
        src: url("https://excalidraw.com/Assistant-Regular.woff2");
      }
    </style>
    
  </defs>
  <rect x="0" y="0" width="1209.733380830288" height="748.0234375" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(273.9208808302881 289.58203125) rotate(0 43.091796875 31.1484375)"><path d="M15.57 0 C27.56 1.49, 41.23 1.36, 70.61 0 M15.57 0 C34.23 -0.47, 51.36 -0.01, 70.61 0 M70.61 0 C80.89 0.45, 84.35 6.92, 86.18 15.57 M70.61 0 C80.14 2.02, 85.47 2.98, 86.18 15.57 M86.18 15.57 C84.89 27.1, 88.35 36.53, 86.18 46.72 M86.18 15.57 C87.37 23.14, 86.92 32.19, 86.18 46.72 M86.18 46.72 C87.73 55.84, 79.35 63.98, 70.61 62.3 M86.18 46.72 C87.26 56.15, 81.63 64.12, 70.61 62.3 M70.61 62.3 C51.74 63.3, 34.71 61.08, 15.57 62.3 M70.61 62.3 C57.8 62.28, 44.24 63.7, 15.57 62.3 M15.57 62.3 C5.17 63.61, -0.95 58.72, 0 46.72 M15.57 62.3 C5.42 64.07, -1.74 56.57, 0 46.72 M0 46.72 C1.75 37.16, 0.54 28.33, 0 15.57 M0 46.72 C0.97 35.04, 0.04 23.59, 0 15.57 M0 15.57 C-1.77 4.3, 4.6 1.23, 15.57 0 M0 15.57 C0.65 6.41, 6.7 0.44, 15.57 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(279.8926825881006 308.23046875) rotate(0 37.1199951171875 12.5)"><text x="37.1199951171875" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">服务器2</text></g><g stroke-linecap="round" transform="translate(277.5790839552881 130.1171875) rotate(0 43.091796875 31.1484375)"><path d="M15.57 0 C31.64 1.34, 46.08 0.13, 70.61 0 M15.57 0 C31.56 -1.06, 45.29 -0.76, 70.61 0 M70.61 0 C82.16 -0.75, 85.69 3.58, 86.18 15.57 M70.61 0 C79.69 -0.45, 85.15 4.41, 86.18 15.57 M86.18 15.57 C87.66 28.44, 88.16 38.53, 86.18 46.72 M86.18 15.57 C86.15 24.53, 85.44 33.71, 86.18 46.72 M86.18 46.72 C87.95 58.39, 79.91 62.62, 70.61 62.3 M86.18 46.72 C87.64 56.57, 81.81 61.31, 70.61 62.3 M70.61 62.3 C51.26 62.32, 35.66 62.8, 15.57 62.3 M70.61 62.3 C54.91 63.24, 38.09 63.23, 15.57 62.3 M15.57 62.3 C3.39 63.03, -1.7 58.57, 0 46.72 M15.57 62.3 C5.31 60.83, 0.4 56.89, 0 46.72 M0 46.72 C1.39 35.45, -0.4 23.56, 0 15.57 M0 46.72 C0.24 38.51, -0.01 29.56, 0 15.57 M0 15.57 C-1.02 3.74, 4.45 -1.47, 15.57 0 M0 15.57 C-1.86 6.81, 3.6 0.94, 15.57 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(287.96088174581547 148.765625) rotate(0 32.709999084472656 12.5)"><text x="32.709999084472656" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">服务器1</text></g><g stroke-linecap="round" transform="translate(62.23924020528813 85.0078125) rotate(0 43.091796875 31.1484375)"><path d="M15.57 0 C32.23 1.06, 45.4 -1.99, 70.61 0 M15.57 0 C29.09 -0.6, 42.54 0.01, 70.61 0 M70.61 0 C80.09 -0.68, 87.42 5.59, 86.18 15.57 M70.61 0 C78.92 1.63, 88.01 7.39, 86.18 15.57 M86.18 15.57 C85.94 25.54, 86.48 34.12, 86.18 46.72 M86.18 15.57 C85.92 26.87, 87.09 37.6, 86.18 46.72 M86.18 46.72 C86.89 56.25, 81.58 61.88, 70.61 62.3 M86.18 46.72 C84.31 55.68, 81.53 63.78, 70.61 62.3 M70.61 62.3 C51.36 62.5, 34.32 60.4, 15.57 62.3 M70.61 62.3 C47.92 63.23, 26.98 61.86, 15.57 62.3 M15.57 62.3 C5.54 62.11, 1.39 59.09, 0 46.72 M15.57 62.3 C2.93 64.26, 0.27 57, 0 46.72 M0 46.72 C1.42 38.53, 0.03 28.91, 0 15.57 M0 46.72 C-0.21 39.24, -0.65 33.94, 0 15.57 M0 15.57 C-1.38 6.01, 3.33 -1.92, 15.57 0 M0 15.57 C2.06 4.6, 5.01 1.76, 15.57 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(72.62103799581547 103.65625) rotate(0 32.709999084472656 12.5)"><text x="32.709999084472656" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">客户机1</text></g><g stroke-linecap="round" transform="translate(59.06345895528813 187.98828125) rotate(0 43.091796875 31.1484375)"><path d="M15.57 0 C26.96 -0.82, 38.23 -1.46, 70.61 0 M15.57 0 C31.62 0.39, 45.54 0.89, 70.61 0 M70.61 0 C82.58 1.91, 86.6 4.83, 86.18 15.57 M70.61 0 C80.82 -0.22, 86.16 5.6, 86.18 15.57 M86.18 15.57 C87.65 21.6, 86.69 31.06, 86.18 46.72 M86.18 15.57 C86.59 23.99, 85.48 32.2, 86.18 46.72 M86.18 46.72 C86.65 58.39, 81.94 62.03, 70.61 62.3 M86.18 46.72 C86.51 56.96, 81.14 64.54, 70.61 62.3 M70.61 62.3 C60.27 60.1, 49.94 61.91, 15.57 62.3 M70.61 62.3 C58.3 63.24, 43.61 63.1, 15.57 62.3 M15.57 62.3 C5.42 62.21, -0.15 56.35, 0 46.72 M15.57 62.3 C6.84 63.8, 1.06 57, 0 46.72 M0 46.72 C-1.19 35.97, -1.21 25.08, 0 15.57 M0 46.72 C-0.72 34.22, 1.11 23.39, 0 15.57 M0 15.57 C-0.16 6.73, 3.91 0.19, 15.57 0 M0 15.57 C-0.29 5.35, 7.42 -0.01, 15.57 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(67.48525766134281 206.63671875) rotate(0 34.66999816894531 12.5)"><text x="34.66999816894531" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">客户机n</text></g><g stroke-linecap="round"><g transform="translate(153.60447458028813 124.640625) rotate(0 62.544921875 18.96875)"><path d="M-0.48 0.48 C20.12 6.78, 103.09 31.94, 123.95 38.11 M1.47 -0.31 C22.39 6.18, 105.7 33.25, 126.07 39.73" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(153.60447458028813 124.640625) rotate(0 62.544921875 18.96875)"><path d="M101.09 40.67 C110.18 38.57, 117.94 39.47, 126.07 39.73 M101.09 40.67 C108.23 39.56, 113.51 40.32, 126.07 39.73" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(153.60447458028813 124.640625) rotate(0 62.544921875 18.96875)"><path d="M106.33 24.4 C113.72 27.67, 119.75 33.97, 126.07 39.73 M106.33 24.4 C112.26 27.57, 116.15 32.61, 126.07 39.73" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(143.35838083028813 219.78125) rotate(0 67.392578125 -20.271484375)"><path d="M-0.41 0.01 C22.26 -6.67, 112.75 -33.48, 135.37 -40.31 M1.57 -1.02 C24.19 -8.07, 112.52 -35.84, 134.72 -42.31" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(143.35838083028813 219.78125) rotate(0 67.392578125 -20.271484375)"><path d="M114.74 -27.28 C119.72 -29.95, 125.01 -33.79, 134.72 -42.31 M114.74 -27.28 C119.65 -30.69, 125.2 -35.71, 134.72 -42.31" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(143.35838083028813 219.78125) rotate(0 67.392578125 -20.271484375)"><path d="M109.76 -43.64 C115.93 -42.26, 122.45 -42.07, 134.72 -42.31 M109.76 -43.64 C115.87 -42.7, 122.75 -43.36, 134.72 -42.31" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(59.49900583028813 154.27734375) rotate(0 90 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">随机服务器发送消息</text></g><g stroke-linecap="round" transform="translate(462.6435370802881 131.37109375) rotate(0 56.1015625 30.951171875)"><path d="M15.48 0 C44.41 -0.73, 76.24 -1.39, 96.73 0 M15.48 0 C33.37 0.67, 52.85 -0.52, 96.73 0 M96.73 0 C105.51 0.57, 113.57 3.98, 112.2 15.48 M96.73 0 C106.66 -1.03, 113.24 5.37, 112.2 15.48 M112.2 15.48 C113.21 25.33, 111.74 30.75, 112.2 46.43 M112.2 15.48 C111.14 21.31, 111.98 28.92, 112.2 46.43 M112.2 46.43 C111.72 55.23, 108.63 61.68, 96.73 61.9 M112.2 46.43 C113.56 57.79, 107.51 62.15, 96.73 61.9 M96.73 61.9 C63.96 61.78, 32.9 64.44, 15.48 61.9 M96.73 61.9 C79.06 61.28, 60.73 60.79, 15.48 61.9 M15.48 61.9 C6.95 60.39, 0.49 58.25, 0 46.43 M15.48 61.9 C4.44 63.08, -1.9 56.37, 0 46.43 M0 46.43 C0.45 37.5, -0.29 30.4, 0 15.48 M0 46.43 C0.69 34.4, 0.93 21.64, 0 15.48 M0 15.48 C-1.53 3.78, 4.95 -1.35, 15.48 0 M0 15.48 C0.23 3.94, 5.96 -0.93, 15.48 0" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(468.7450995802881 149.822265625) rotate(0 50 12.5)"><text x="50" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1971c2" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">新消息队列</text></g><g stroke-linecap="round"><g transform="translate(362.5888495802881 162.99609375) rotate(0 50.2734375 1.119140625)"><path d="M-0.99 0.44 C15.79 1.16, 83.76 2.93, 100.73 3.13 M0.7 -0.37 C17.32 0.12, 83.29 0.97, 99.88 1.48" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(362.5888495802881 162.99609375) rotate(0 50.2734375 1.119140625)"><path d="M76.21 9.54 C84.3 7.56, 92.32 5.24, 99.88 1.48 M76.21 9.54 C81.73 7.37, 88.39 5.43, 99.88 1.48" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(362.5888495802881 162.99609375) rotate(0 50.2734375 1.119140625)"><path d="M76.57 -7.56 C84.38 -4.29, 92.3 -1.35, 99.88 1.48 M76.57 -7.56 C81.88 -5.46, 88.46 -3.14, 99.88 1.48" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(355.8036933302881 293.83203125) rotate(0 56.05078125 -51.27734375)"><path d="M-0.87 0.81 C17.5 -16.04, 92.67 -84.48, 111.31 -101.64 M0.87 0.19 C19.53 -16.94, 94.88 -85.87, 113.61 -103.29" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(355.8036933302881 293.83203125) rotate(0 56.05078125 -51.27734375)"><path d="M102.12 -81.08 C108.06 -90.99, 112.72 -100.23, 113.61 -103.29 M102.12 -81.08 C106.4 -87.69, 108.94 -96.44, 113.61 -103.29" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(355.8036933302881 293.83203125) rotate(0 56.05078125 -51.27734375)"><path d="M90.54 -93.66 C100.95 -98.57, 110.13 -102.89, 113.61 -103.29 M90.54 -93.66 C98.69 -96, 105.1 -100.56, 113.61 -103.29" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(263.6044745802881 233) rotate(0 50 25)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">水平扩容增</text><text x="0" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">加处理能力</text></g><g stroke-linecap="round" transform="translate(725.6161933302881 103.1484375) rotate(0 75.435546875 60)"><path d="M95 15.25 C106.4 24.6, 117.44 36.21, 131.87 45.75 M95 15.25 C109.06 27.23, 123.3 38.56, 131.87 45.75 M131.87 45.75 C149.69 59.11, 151.99 62.82, 131.87 76.25 M131.87 45.75 C150.32 61.57, 151.86 62.69, 131.87 76.25 M131.87 76.25 C120.89 87.1, 108.01 96.29, 95 104.75 M131.87 76.25 C123.05 82.62, 114.16 89.28, 95 104.75 M95 104.75 C75.26 119.09, 77.37 120.25, 57 104.75 M95 104.75 C78.08 120.81, 74.53 118.39, 57 104.75 M57 104.75 C44.21 97.06, 32.5 84.42, 19 76.25 M57 104.75 C43.03 94.23, 27.26 82.55, 19 76.25 M19 76.25 C1.28 60.66, -0.97 60.45, 19 45.75 M19 76.25 C-2.18 62.7, -0.89 60.35, 19 45.75 M19 45.75 C27.75 38.1, 39.23 30.08, 57 15.25 M19 45.75 C33.82 34.84, 47.99 23.68, 57 15.25 M57 15.25 C77.84 -0.31, 74.32 1.17, 95 15.25 M57 15.25 C75.6 -1.54, 76.43 -2.08, 95 15.25" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(770.3839774489404 138.1484375) rotate(0 30.449989318847656 25)"><text x="30.449989318847656" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">添加id,</text><text x="30.449989318847656" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">time</text></g><g stroke-linecap="round"><g transform="translate(574.5107245802881 161.81640625) rotate(0 76.802734375 2.056640625)"><path d="M0.69 0.54 C26.39 1.13, 129.21 3.89, 154.67 4.34 M-0.41 -0.22 C25.18 -0.09, 128.77 1.62, 154.29 2.33" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(574.5107245802881 161.81640625) rotate(0 76.802734375 2.056640625)"><path d="M130.62 10.39 C139.53 9.29, 147.06 4.6, 154.29 2.33 M130.62 10.39 C136.16 9.24, 141.66 6.71, 154.29 2.33" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(574.5107245802881 161.81640625) rotate(0 76.802734375 2.056640625)"><path d="M130.98 -6.71 C139.89 -1.98, 147.29 -0.85, 154.29 2.33 M130.98 -6.71 C136.45 -4.01, 141.87 -2.71, 154.29 2.33" stroke="#1971c2" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(482.4052558302881 329.109375) rotate(0 78.634765625 31.466796875)"><path d="M15.73 0 C60.63 0.52, 101.45 0.64, 141.54 0 M15.73 0 C41.23 -0.46, 67.48 -0.38, 141.54 0 M141.54 0 C151.2 -0.75, 157.33 3.59, 157.27 15.73 M141.54 0 C153.03 1.11, 156.57 3.36, 157.27 15.73 M157.27 15.73 C156.97 25.27, 155.92 38.03, 157.27 47.2 M157.27 15.73 C156.01 26.24, 157.26 38.27, 157.27 47.2 M157.27 47.2 C159.11 59.55, 151.76 62.71, 141.54 62.93 M157.27 47.2 C157.69 58.75, 153.26 63.9, 141.54 62.93 M141.54 62.93 C97.89 61.33, 54.14 63.17, 15.73 62.93 M141.54 62.93 C94.62 62.58, 46.05 62.66, 15.73 62.93 M15.73 62.93 C4.5 63.93, -0.17 58.43, 0 47.2 M15.73 62.93 C6.19 61.97, -0.17 57, 0 47.2 M0 47.2 C0.37 40.27, 1.67 32.93, 0 15.73 M0 47.2 C-0.23 36.91, -0.54 27.19, 0 15.73 M0 15.73 C-1.56 6.62, 5.25 -1.83, 15.73 0 M0 15.73 C-1.45 5.99, 6.78 -1.43, 15.73 0" stroke="#2f9e44" stroke-width="2" fill="none"></path></g><g transform="translate(504.9000449538233 350.546875) rotate(0 56.139976501464844 10.029296875)"><text x="56.139976501464844" y="14.05706249999999" font-family="Virgil, Segoe UI Emoji" font-size="16.04687499999999px" fill="#2f9e44" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">新消息广播队列</text></g><g stroke-linecap="round" transform="translate(752.7255683302881 370.931640625) rotate(0 75.7421875 31.466796875)"><path d="M15.73 0 C53.88 0.71, 91.94 1.57, 135.75 0 M15.73 0 C56.06 0.65, 97.77 0.71, 135.75 0 M135.75 0 C145.53 1.29, 152.62 6.39, 151.48 15.73 M135.75 0 C144.44 -0.37, 151.24 6.05, 151.48 15.73 M151.48 15.73 C153.68 22.91, 150.06 29.05, 151.48 47.2 M151.48 15.73 C152.14 24.51, 151.43 31.08, 151.48 47.2 M151.48 47.2 C152.87 58.27, 144.75 62.71, 135.75 62.93 M151.48 47.2 C152.9 56.31, 146.21 64.98, 135.75 62.93 M135.75 62.93 C103.33 63.73, 70.24 61.66, 15.73 62.93 M135.75 62.93 C102.52 62.79, 70.09 62.18, 15.73 62.93 M15.73 62.93 C4.68 64.14, 0.31 58.22, 0 47.2 M15.73 62.93 C6.64 62.86, 1.86 58.41, 0 47.2 M0 47.2 C1.71 37.87, -0.72 26.14, 0 15.73 M0 47.2 C0.49 41.02, -1.13 34.49, 0 15.73 M0 15.73 C1.96 3.47, 6.07 1.83, 15.73 0 M0 15.73 C-2.12 6.55, 7.27 -0.98, 15.73 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(760.1977820754053 377.3984375) rotate(0 68.26997375488281 25)"><text x="68.26997375488281" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Redis，存最近1</text><text x="68.26997375488281" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">w条</text></g><g stroke-linecap="round" transform="translate(726.3271308302881 556.255859375) rotate(0 75.7421875 31.466796875)"><path d="M15.73 0 C54.14 -2.33, 95.18 -1.2, 135.75 0 M15.73 0 C48.82 -0.2, 80 -0.93, 135.75 0 M135.75 0 C146.03 0.7, 149.73 7.21, 151.48 15.73 M135.75 0 C146.9 2.17, 152.06 3.26, 151.48 15.73 M151.48 15.73 C152.67 26.95, 152.8 34.92, 151.48 47.2 M151.48 15.73 C150.96 22.7, 152.32 29.29, 151.48 47.2 M151.48 47.2 C151.46 59.47, 145.6 63.96, 135.75 62.93 M151.48 47.2 C150.88 57.4, 147.52 61.58, 135.75 62.93 M135.75 62.93 C103.85 62.57, 76.88 64.27, 15.73 62.93 M135.75 62.93 C97.14 63.92, 58.83 63.63, 15.73 62.93 M15.73 62.93 C6.86 63.56, 0.98 55.89, 0 47.2 M15.73 62.93 C5.18 64.57, 1.89 56.53, 0 47.2 M0 47.2 C0.21 37.8, 1.27 23.71, 0 15.73 M0 47.2 C0.11 36.7, -1.23 24.94, 0 15.73 M0 15.73 C1.76 4.39, 6.39 -0.48, 15.73 0 M0 15.73 C0.92 6.76, 6.85 2.06, 15.73 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round"><g transform="translate(797.545099912895 220.85629157675424) rotate(0 -74.87951493387465 66.26716671162288)"><path d="M0.32 -0.74 C-24.51 21.38, -124.01 109.51, -149.01 131.53 M-0.97 1.49 C-25.9 23.83, -124.66 110.77, -149.57 132.54" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(797.545099912895 220.85629157675424) rotate(0 -74.87951493387465 66.26716671162288)"><path d="M-137.56 110.62 C-142.59 118.45, -146.63 123.87, -149.57 132.54 M-137.56 110.62 C-140.28 114.48, -142.7 120.17, -149.57 132.54" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(797.545099912895 220.85629157675424) rotate(0 -74.87951493387465 66.26716671162288)"><path d="M-126.27 123.47 C-134.56 127.49, -141.97 129.06, -149.57 132.54 M-126.27 123.47 C-131.32 124.59, -136.08 127.62, -149.57 132.54" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(813.6367068720524 434.74609375) rotate(0 -8.161879752396885 60.2548828125)"><path d="M1.12 0.38 C-1.74 20.72, -14.59 101.42, -17.51 121.4 M0.25 -0.47 C-2.23 19.61, -12.51 99.43, -15.42 119.74" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(813.6367068720524 434.74609375) rotate(0 -8.161879752396885 60.2548828125)"><path d="M-20.75 95.32 C-18.82 99.88, -16.53 108.36, -15.42 119.74 M-20.75 95.32 C-18.99 101.07, -17.94 109.18, -15.42 119.74" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(813.6367068720524 434.74609375) rotate(0 -8.161879752396885 60.2548828125)"><path d="M-3.8 97.6 C-6.43 101.71, -8.71 109.57, -15.42 119.74 M-3.8 97.6 C-6.73 102.82, -10.37 110.29, -15.42 119.74" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(748.9872870802881 576.0859375) rotate(0 31.46997833251953 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">MySQL</text></g><g stroke-linecap="round" transform="translate(47.98728708028813 394.6171875) rotate(0 52.447265625 29.212890625)"><path d="M14.61 0 C31.61 1.08, 51.62 -0.34, 90.29 0 M14.61 0 C40.48 -0.47, 68.82 0.97, 90.29 0 M90.29 0 C101.59 -0.77, 106.43 4.12, 104.89 14.61 M90.29 0 C101.41 -1.33, 106.45 5.63, 104.89 14.61 M104.89 14.61 C104.63 26.08, 105.86 34.5, 104.89 43.82 M104.89 14.61 C104.61 26.85, 105.44 37.48, 104.89 43.82 M104.89 43.82 C104.26 52.02, 101.63 58.96, 90.29 58.43 M104.89 43.82 C106.92 53.88, 100.51 56.87, 90.29 58.43 M90.29 58.43 C74.23 59.34, 56.88 61.04, 14.61 58.43 M90.29 58.43 C71.47 58.76, 53.35 58.54, 14.61 58.43 M14.61 58.43 C4.4 56.94, -0.79 53.3, 0 43.82 M14.61 58.43 C6.35 60.54, 1.64 54.51, 0 43.82 M0 43.82 C-1.89 33.07, 1.64 21.56, 0 14.61 M0 43.82 C-0.21 32.35, -0.39 20.11, 0 14.61 M0 14.61 C-1.85 4.75, 3.07 -1.26, 14.61 0 M0 14.61 C-0.99 3.75, 3.68 0.63, 14.61 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(70.43455270528813 411.330078125) rotate(0 30 12.5)"><text x="30" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">客户机</text></g><g stroke-linecap="round" transform="translate(270.4716620802881 398.08203125) rotate(0 43.830078125 28.33984375)"><path d="M14.17 0 C36.23 -1.2, 57.96 -1.17, 73.49 0 M14.17 0 C26.52 0.75, 39.37 0.68, 73.49 0 M73.49 0 C83.16 1.63, 85.98 5.78, 87.66 14.17 M73.49 0 C82.1 -0.05, 86.21 4.84, 87.66 14.17 M87.66 14.17 C89.08 22.28, 88.47 27.24, 87.66 42.51 M87.66 14.17 C88.08 22.59, 87.94 28.9, 87.66 42.51 M87.66 42.51 C89.27 52.49, 81.8 57.49, 73.49 56.68 M87.66 42.51 C88.6 53.15, 81.72 58.16, 73.49 56.68 M73.49 56.68 C52.7 56.42, 32.34 56.97, 14.17 56.68 M73.49 56.68 C50.22 55.7, 29.86 57.09, 14.17 56.68 M14.17 56.68 C3.21 58.37, 1.95 50, 0 42.51 M14.17 56.68 C2.67 56.6, 2.09 50.2, 0 42.51 M0 42.51 C-1.31 31.31, -0.14 21.44, 0 14.17 M0 42.51 C0.73 37.5, 1.03 31.81, 0 14.17 M0 14.17 C1.59 5.7, 2.77 -1.99, 14.17 0 M0 14.17 C1.65 4.15, 5.43 0.44, 14.17 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(279.6317420363428 413.921875) rotate(0 34.66999816894531 12.5)"><text x="34.66999816894531" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">服务器n</text></g><g stroke-linecap="round"><g transform="translate(153.88181833028813 424.8054278081622) rotate(0 57.79492187500003 0.8011309548629129)"><path d="M0.28 -0.12 C19.52 0.02, 97.52 0.28, 116.59 0.43 M-1.03 -1.23 C18.03 -0.95, 96.47 0.86, 116.17 1.35" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(153.88181833028813 424.8054278081622) rotate(0 57.79492187500003 0.8011309548629129)"><path d="M92.49 9.34 C101.78 7.76, 109.48 1.5, 116.17 1.35 M92.49 9.34 C98.18 6.68, 103.67 5.74, 116.17 1.35" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(153.88181833028813 424.8054278081622) rotate(0 57.79492187500003 0.8011309548629129)"><path d="M92.89 -7.76 C101.96 -2.5, 109.5 -1.94, 116.17 1.35 M92.89 -7.76 C98.54 -6.45, 103.94 -3.44, 116.17 1.35" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(181.73338083028813 401.27734375) rotate(0 20 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">轮询</text></g><g transform="translate(153.27244333028813 450.5234375) rotate(0 70 25)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">携带lastMsgId</text><text x="0" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">保证不遗漏消息</text></g><g stroke-linecap="round"><g transform="translate(473.8349433302881 352.62890625) rotate(0 -58.310546875 -12.353515625)"><path d="M0.66 -0.98 C-18.78 -5.21, -96.58 -20.87, -116.01 -24.88 M-0.45 1.13 C-20.05 -2.96, -97.33 -19.27, -116.64 -23.44" stroke="#2f9e44" stroke-width="2" fill="none"></path></g><g transform="translate(473.8349433302881 352.62890625) rotate(0 -58.310546875 -12.353515625)"><path d="M-91.88 -26.91 C-102.21 -24.54, -109.59 -23.15, -116.64 -23.44 M-91.88 -26.91 C-98.13 -25.12, -106.02 -25.93, -116.64 -23.44" stroke="#2f9e44" stroke-width="2" fill="none"></path></g><g transform="translate(473.8349433302881 352.62890625) rotate(0 -58.310546875 -12.353515625)"><path d="M-95.45 -10.18 C-104.59 -13.72, -110.71 -18.22, -116.64 -23.44 M-95.45 -10.18 C-100.86 -12.95, -107.78 -18.31, -116.64 -23.44" stroke="#2f9e44" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(467.1669745802881 386.34375) rotate(0 -56.052734375 22.23828125)"><path d="M0.35 -0.09 C-18.32 7.45, -92.68 37.08, -111.32 44.52 M-0.92 -1.18 C-19.74 6.64, -93.35 38.23, -111.86 46.08" stroke="#2f9e44" stroke-width="2" fill="none"></path></g><g transform="translate(467.1669745802881 386.34375) rotate(0 -56.052734375 22.23828125)"><path d="M-93.6 28.99 C-100.4 36.48, -106.72 42.29, -111.86 46.08 M-93.6 28.99 C-98.52 34.04, -105.33 39.86, -111.86 46.08" stroke="#2f9e44" stroke-width="2" fill="none"></path></g><g transform="translate(467.1669745802881 386.34375) rotate(0 -56.052734375 22.23828125)"><path d="M-86.89 44.72 C-95.99 46.59, -104.72 46.76, -111.86 46.08 M-86.89 44.72 C-93.88 45, -102.75 46.01, -111.86 46.08" stroke="#2f9e44" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(348.2021308302881 358.57421875) rotate(0 60 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">通知有新消息</text></g><g stroke-linecap="round"><g transform="translate(813.3271308302881 216.80423303312523) rotate(0 0.91796875 73.49030535151275)"><path d="M1.01 -0.81 C1.25 23.86, 2.25 123.11, 2.22 147.79 M0.07 1.39 C0.13 25.73, 0.96 121.53, 1.47 146.09" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(813.3271308302881 216.80423303312523) rotate(0 0.91796875 73.49030535151275)"><path d="M-7.4 122.72 C-5.57 131.75, 0.34 137.84, 1.47 146.09 M-7.4 122.72 C-4.46 130.84, -1.95 138.67, 1.47 146.09" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(813.3271308302881 216.80423303312523) rotate(0 0.91796875 73.49030535151275)"><path d="M9.7 122.49 C5.33 131.75, 5.05 137.92, 1.47 146.09 M9.7 122.49 C7.04 130.68, 3.96 138.58, 1.47 146.09" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(356.5693183302881 10) rotate(0 290 37.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">消息量大可以把消息队列和处理消息流程放在一台专门的服务器上</text><text x="0" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">也可以直接某一台接收请求的服务器，</text><text x="0" y="67.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">可以每个聊天室一个接收消息的队列和一个处理服务器</text></g><g stroke-linecap="round"><g transform="translate(321.3271308302881 467.23828125) rotate(0 197.822265625 60.818359375)"><path d="M-0.86 -0.27 C10.39 19.28, 0.46 96.92, 66.45 117.19 C132.44 137.46, 340.39 120.7, 395.07 121.38 M0.89 -1.45 C12.62 18.31, 3.29 98.08, 68.81 118.75 C134.33 139.42, 339.77 121.98, 394 122.56" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(321.3271308302881 467.23828125) rotate(0 197.822265625 60.818359375)"><path d="M370.82 131.92 C375.31 128.96, 380.75 127.15, 394 122.56 M370.82 131.92 C377.29 128.78, 384.48 127.61, 394 122.56" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(321.3271308302881 467.23828125) rotate(0 197.822265625 60.818359375)"><path d="M370.23 114.82 C374.83 115.5, 380.4 117.33, 394 122.56 M370.23 114.82 C376.71 116.44, 384.07 120.03, 394 122.56" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(421.7333808302881 568.27734375) rotate(0 60 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">读取历史消息</text></g><g transform="translate(469.3857245802881 210.91796875) rotate(0 80 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">队列唯一保证顺序</text></g><g transform="translate(872.9794745802881 475.09375) rotate(0 81.46997833251953 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">通知MySQL持久化</text></g><g stroke-linecap="round" transform="translate(225.98338083028813 661.30078125) rotate(0 63.333984375 38.361328125)"><path d="M19.18 0 C48.13 0.69, 80.61 1.5, 107.49 0 M19.18 0 C40.86 0.04, 60.67 -0.75, 107.49 0 M107.49 0 C120.74 -0.36, 127.72 5.17, 126.67 19.18 M107.49 0 C119.59 -1.74, 127.82 4.57, 126.67 19.18 M126.67 19.18 C128.68 33.72, 127.64 45.41, 126.67 57.54 M126.67 19.18 C127.15 33.32, 126.53 47.09, 126.67 57.54 M126.67 57.54 C126.82 71.3, 122.22 77.91, 107.49 76.72 M126.67 57.54 C128.08 68.19, 118.28 77.36, 107.49 76.72 M107.49 76.72 C78.38 74.75, 44.58 76.1, 19.18 76.72 M107.49 76.72 C79.37 76.38, 50.44 76.13, 19.18 76.72 M19.18 76.72 C4.91 78.29, -0.16 70.67, 0 57.54 M19.18 76.72 C7.5 76.77, 1.96 72.3, 0 57.54 M0 57.54 C1.02 47.57, -1.67 33.5, 0 19.18 M0 57.54 C-0.15 47.81, 0.16 36.45, 0 19.18 M0 19.18 C-0.2 5.66, 7.23 1.09, 19.18 0 M0 19.18 C-1.36 6.17, 8.57 0.04, 19.18 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(239.31736520528813 674.662109375) rotate(0 50 25)"><text x="50" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">服务器修改</text><text x="50" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">配置信息</text></g><g transform="translate(627.5146308302881 261.75) rotate(0 51.71997833251953 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">聊天室code</text></g><g transform="translate(891.7333808302881 509.27734375) rotate(0 127.02995300292969 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">保证MySQL里有的Redis也有</text></g><g stroke-opacity="0.5" fill-opacity="0.5" stroke-linecap="round" transform="translate(224.01072458028813 542.26953125) rotate(0 56.029296875 34.4453125)"><path d="M17.22 0 C38.46 1.76, 56.37 0.59, 94.84 0 M17.22 0 C37.53 0.85, 57.7 0.42, 94.84 0 M94.84 0 C104.68 -1.75, 112.22 7.34, 112.06 17.22 M94.84 0 C104.87 0.32, 112.5 5.85, 112.06 17.22 M112.06 17.22 C113.25 26.91, 112.6 34.15, 112.06 51.67 M112.06 17.22 C111.54 25.91, 112.28 33.58, 112.06 51.67 M112.06 51.67 C111.62 64.09, 106.95 70.01, 94.84 68.89 M112.06 51.67 C109.98 63.29, 104.69 70.95, 94.84 68.89 M94.84 68.89 C65.69 70.47, 38.84 67.41, 17.22 68.89 M94.84 68.89 C74.81 69.52, 53.97 70.18, 17.22 68.89 M17.22 68.89 C7.19 70.78, -0.87 64.62, 0 51.67 M17.22 68.89 C3.46 70.86, -0.26 64.59, 0 51.67 M0 51.67 C2.21 38.94, 1.97 29.99, 0 17.22 M0 51.67 C-1.18 42.47, -0.55 32.58, 0 17.22 M0 17.22 C-0.82 4.15, 6.53 -0.92, 17.22 0 M0 17.22 C1.29 6.71, 6.18 2.19, 17.22 0" stroke="#e03131" stroke-width="2" fill="none"></path></g><g transform="translate(250.73338083028813 564.27734375) rotate(0 40 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">配置队列</text></g><g stroke-linecap="round"><g transform="translate(242.68650583028813 656.3828125) rotate(0 0.771484375 -22.9140625)"><path d="M0.38 -0.15 C0.64 -7.69, 1.2 -37.75, 1.44 -45.34 M-0.09 -0.71 C0.1 -8.38, 0.68 -38.67, 0.96 -46.06" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(242.68650583028813 656.3828125) rotate(0 0.771484375 -22.9140625)"><path d="M8.21 -24.31 C5.95 -30.49, 5.1 -35.84, 0.96 -46.06 M8.21 -24.31 C5.6 -31.85, 3.44 -38.43, 0.96 -46.06" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(242.68650583028813 656.3828125) rotate(0 0.771484375 -22.9140625)"><path d="M-7.46 -24.73 C-5.38 -30.85, -1.88 -36.08, 0.96 -46.06 M-7.46 -24.73 C-5 -32.09, -2.09 -38.53, 0.96 -46.06" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(261.7333808302881 632.27734375) rotate(0 61.71997833251953 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">code，新配置</text></g><g stroke-linecap="round"><g transform="translate(370.7815044982107 439.83372423584944) rotate(0 177.8626569160387 -4.6649089929247225)"><path d="M-0.4 -0.79 C58.64 -2.44, 295.49 -8.99, 354.86 -10.29 M1.59 1.4 C60.96 -0.09, 298.2 -7.26, 357.12 -9.26" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(370.7815044982107 439.83372423584944) rotate(0 177.8626569160387 -4.6649089929247225)"><path d="M333.91 0.03 C340.75 -4.59, 348.59 -6.26, 357.12 -9.26 M333.91 0.03 C341.43 -2.86, 350.38 -6.08, 357.12 -9.26" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(370.7815044982107 439.83372423584944) rotate(0 177.8626569160387 -4.6649089929247225)"><path d="M333.37 -17.06 C340.34 -15.69, 348.37 -11.38, 357.12 -9.26 M333.37 -17.06 C340.95 -13.81, 350.1 -10.88, 357.12 -9.26" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(406.7333808302881 454.27734375) rotate(0 145.3199005126953 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">connect Response 读Redis内容</text></g><g stroke-linecap="round"><g transform="translate(360.9560370802881 695.9609375) rotate(0 182.484375 -48.9609375)"><path d="M1.02 -0.98 C62.12 -17.12, 304.66 -80.98, 365.42 -97.08 M0.1 1.12 C61.17 -15.33, 303.87 -81.95, 364.72 -98.76" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(360.9560370802881 695.9609375) rotate(0 182.484375 -48.9609375)"><path d="M344.33 -84.28 C346.9 -86.65, 354.11 -89.3, 364.72 -98.76 M344.33 -84.28 C350.99 -89.23, 358.05 -93.63, 364.72 -98.76" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(360.9560370802881 695.9609375) rotate(0 182.484375 -48.9609375)"><path d="M339.8 -100.77 C343.25 -99.81, 351.39 -99.09, 364.72 -98.76 M339.8 -100.77 C347.82 -100.29, 356.37 -99.26, 364.72 -98.76" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(448.7333808302881 704.27734375) rotate(0 70 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">同时持久化配置</text></g><g transform="translate(10 305.1107897404817) rotate(0 126.50537872314453 26.557179009518308)"><text x="0" y="18.61127104987042" font-family="Virgil, Segoe UI Emoji" font-size="21.245743207614638px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">map&lt;code, [connectId]</text><text x="0" y="45.16845005938872" font-family="Virgil, Segoe UI Emoji" font-size="21.245743207614638px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">服务器保存聊天室连接30s</text></g><g transform="translate(478.7333808302881 108.27734375) rotate(0 59.979942321777344 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">type,content</text></g><g transform="translate(167.73338083028813 105.27734375) rotate(0 84.2699203491211 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">code,type,content</text></g><g transform="translate(372.6708808302881 102.52734375) rotate(0 41.71997833251953 25)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">根据code</text><text x="0" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">选择队列</text></g><g stroke-linecap="round"><g stroke-opacity="0.4" fill-opacity="0.4" transform="translate(243.68259958028813 537.84375) rotate(0 13.001953125 -52.626953125)"><path d="M-0.37 0.17 C3.94 -17.66, 21.35 -88.79, 25.76 -106.16" stroke="#e03131" stroke-width="1.5" fill="none" stroke-dasharray="8 9"></path></g><g stroke-opacity="0.4" fill-opacity="0.4" transform="translate(243.68259958028813 537.84375) rotate(0 13.001953125 -52.626953125)"><path d="M28.39 -81.3 C27.75 -88.88, 25.2 -95.54, 25.76 -106.16" stroke="#e03131" stroke-width="1.5" fill="none"></path></g><g stroke-opacity="0.4" fill-opacity="0.4" transform="translate(243.68259958028813 537.84375) rotate(0 13.001953125 -52.626953125)"><path d="M11.8 -85.42 C15.96 -91.76, 18.19 -97.24, 25.76 -106.16" stroke="#e03131" stroke-width="1.5" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g stroke-opacity="0.4" fill-opacity="0.4" transform="translate(288.6240058302881 539.2734375) rotate(0 5.837890625 -97.359375)"><path d="M1.05 -1.06 C3.04 -33.32, 10.11 -161.33, 11.77 -193.69" stroke="#e03131" stroke-width="1.5" fill="none" stroke-dasharray="8 9"></path></g><g stroke-opacity="0.4" fill-opacity="0.4" transform="translate(288.6240058302881 539.2734375) rotate(0 5.837890625 -97.359375)"><path d="M19.05 -169.78 C15.23 -176.39, 16.63 -184.44, 11.77 -193.69" stroke="#e03131" stroke-width="1.5" fill="none"></path></g><g stroke-opacity="0.4" fill-opacity="0.4" transform="translate(288.6240058302881 539.2734375) rotate(0 5.837890625 -97.359375)"><path d="M1.97 -170.69 C3.04 -177.2, 9.32 -184.98, 11.77 -193.69" stroke="#e03131" stroke-width="1.5" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g stroke-opacity="0.4" fill-opacity="0.4" transform="translate(313.3740058302881 539.3515625) rotate(0 6.82421875 -177.3671875)"><path d="M1.01 -0.66 C2.98 -59.51, 10.63 -294.88, 12.64 -354.01" stroke="#e03131" stroke-width="1.5" fill="none" stroke-dasharray="8 9"></path></g><g stroke-opacity="0.4" fill-opacity="0.4" transform="translate(313.3740058302881 539.3515625) rotate(0 6.82421875 -177.3671875)"><path d="M20.41 -330.24 C16.62 -340.65, 16.06 -348.76, 12.64 -354.01" stroke="#e03131" stroke-width="1.5" fill="none"></path></g><g stroke-opacity="0.4" fill-opacity="0.4" transform="translate(313.3740058302881 539.3515625) rotate(0 6.82421875 -177.3671875)"><path d="M3.31 -330.81 C5.84 -341.15, 11.6 -349.05, 12.64 -354.01" stroke="#e03131" stroke-width="1.5" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g stroke-opacity="0.4" fill-opacity="0.4" transform="translate(493.8349433302881 324.828125) rotate(0 -66.388671875 -75.4453125)"><path d="M0.71 -0.65 C-21.57 -25.84, -110.71 -124.75, -132.78 -149.93" stroke="#2f9e44" stroke-width="1.5" fill="none" stroke-dasharray="8 9"></path></g><g stroke-opacity="0.4" fill-opacity="0.4" transform="translate(493.8349433302881 324.828125) rotate(0 -66.388671875 -75.4453125)"><path d="M-110.78 -138.07 C-120.21 -142.39, -125.76 -145.11, -132.78 -149.93" stroke="#2f9e44" stroke-width="1.5" fill="none"></path></g><g stroke-opacity="0.4" fill-opacity="0.4" transform="translate(493.8349433302881 324.828125) rotate(0 -66.388671875 -75.4453125)"><path d="M-123.55 -126.7 C-128.31 -135.35, -129.09 -142.32, -132.78 -149.93" stroke="#2f9e44" stroke-width="1.5" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g stroke-opacity="0.5" fill-opacity="0.5" transform="translate(150.76463083028813 135.94140625) rotate(0 61.974609375 79.603515625)"><path d="M0.35 -0.11 C21 26.37, 102.69 132.26, 123.2 158.84" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 7"></path></g><g stroke-opacity="0.5" fill-opacity="0.5" transform="translate(150.76463083028813 135.94140625) rotate(0 61.974609375 79.603515625)"><path d="M102.08 145.46 C107.01 147.39, 111.69 150.95, 123.2 158.84" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 5"></path></g><g stroke-opacity="0.5" fill-opacity="0.5" transform="translate(150.76463083028813 135.94140625) rotate(0 61.974609375 79.603515625)"><path d="M115.62 135.02 C117.27 139.51, 118.67 145.6, 123.2 158.84" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 5"></path></g></g><mask></mask><g stroke-linecap="round"><g stroke-opacity="0.5" fill-opacity="0.5" transform="translate(150.88181833028813 134.42578125) rotate(0 60.255859375 138.37109375)"><path d="M0.04 -0.17 C20.24 45.81, 100.37 230.31, 120.27 276.27" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 7"></path></g><g stroke-opacity="0.5" fill-opacity="0.5" transform="translate(150.88181833028813 134.42578125) rotate(0 60.255859375 138.37109375)"><path d="M103.07 258.13 C106.67 261.74, 109.99 264.41, 120.27 276.27" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 5"></path></g><g stroke-opacity="0.5" fill-opacity="0.5" transform="translate(150.88181833028813 134.42578125) rotate(0 60.255859375 138.37109375)"><path d="M118.76 251.32 C118.9 256.45, 118.74 260.63, 120.27 276.27" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 5"></path></g></g><mask></mask><g stroke-linecap="round"><g stroke-opacity="0.5" fill-opacity="0.5" transform="translate(66.03025583028813 462.90234375) rotate(0 74.38671875 121.759765625)"><path d="M0.39 1.04 C3.12 34.19, -7.59 159.4, 16.96 199.9 C41.5 240.4, 125.54 236.78, 147.67 244.02 M-0.87 0.54 C1.65 33.26, -9.2 157.89, 15.94 198.13 C41.08 238.36, 127.57 234.24, 149.98 241.94" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.5" fill-opacity="0.5" transform="translate(66.03025583028813 462.90234375) rotate(0 74.38671875 121.759765625)"><path d="M125.46 246.81 C135.65 244.82, 143.52 241.51, 149.98 241.94 M125.46 246.81 C133.94 244.88, 142.32 244.46, 149.98 241.94" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.5" fill-opacity="0.5" transform="translate(66.03025583028813 462.90234375) rotate(0 74.38671875 121.759765625)"><path d="M128.06 229.91 C137.49 233.79, 144.46 236.33, 149.98 241.94 M128.06 229.91 C135.79 233.75, 143.27 239.11, 149.98 241.94" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-opacity="0.9" fill-opacity="0.9" transform="translate(81.73338083028813 610.27734375) rotate(0 40 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">修改配置</text></g><g stroke-opacity="0.9" fill-opacity="0.9" transform="translate(957.7333808302881 384.27734375) rotate(0 80 25)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Redis连接池更大</text><text x="0" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">存放在内存中更快</text></g><g stroke-linecap="round" transform="translate(435.1474433302881 79.609375) rotate(0 221.421875 98.142578125)"><path d="M137.93 7.28 C155.55 2.58, 180.05 1.85, 201.96 0.98 C223.87 0.11, 248.11 -0.07, 269.4 2.04 C290.69 4.15, 310.94 8.96, 329.71 13.66 C348.47 18.36, 366.93 23.38, 381.97 30.26 C397.02 37.13, 410.44 46.14, 420 54.9 C429.55 63.66, 435.96 73.48, 439.32 82.84 C442.68 92.2, 443.02 101.55, 440.17 111.05 C437.33 120.56, 431.39 130.95, 422.24 139.86 C413.09 148.78, 400.04 157.37, 385.27 164.53 C370.5 171.7, 352.41 178.16, 333.61 182.86 C314.81 187.56, 293.71 190.6, 272.47 192.74 C251.24 194.88, 227.89 196.1, 206.21 195.71 C184.54 195.31, 162.78 193.69, 142.42 190.37 C122.07 187.06, 101.21 181.73, 84.08 175.83 C66.94 169.93, 51.77 162.99, 39.62 154.98 C27.47 146.97, 17.64 137.19, 11.15 127.78 C4.67 118.36, 1.13 107.98, 0.7 98.47 C0.27 88.97, 2.37 80.01, 8.59 70.74 C14.82 61.47, 25.84 50.85, 38.03 42.86 C50.22 34.88, 63.44 28.96, 81.75 22.83 C100.06 16.69, 135.33 8.88, 147.91 6.05 C160.49 3.22, 156.17 4.32, 157.25 5.85" stroke="#f08c00" stroke-width="2.5" fill="none" stroke-dasharray="1.5 8"></path></g><g transform="translate(859.7333808302881 110.27734375) rotate(0 170 25)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">性能瓶颈，为保证顺序队列只能有一个</text><text x="0" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">所以只能在一个进程中处理</text></g><g transform="translate(900.7333808302881 168.27734375) rotate(0 126.98998260498047 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">根据时间生成id，不超过16位</text></g></svg>